# Generated by Django 5.0.12 on 2025-04-22 22:16

import ConfigurationChangeRequest.validator
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('ConfigurationChangeRequest', '0024_remove_requestextrainformation_request_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='ConfigurationChangeRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('doc_id', models.IntegerField(help_text='لطفاً کد سند را وارد کنید.', null=True, verbose_name='کد سند')),
                ('status_code', models.CharField(choices=[('DRAFTD', 'پیش نویس'), ('MANAGE', 'اظهار نظر مدیر مستقیم'), ('COMITE', 'اظهار نظر کمیته'), ('EXECUT', 'اجرا توسط مجری'), ('TESTER', 'تست توسط تستر'), ('FINISH', 'خاتمه یافته'), ('FAILED', 'خاتمه ناموفقیت آمیز')], default='DRAFTD', help_text='لطفاً کد وضعیت را وارد کنید.', max_length=6, verbose_name='کد وضعیت')),
                ('change_title', models.CharField(help_text='لطفاً عنوان تغییر را وارد کنید.', max_length=255, verbose_name='عنوان تغییر')),
                ('change_description', models.TextField(blank=True, help_text='توضیحات مربوط به تغییر را وارد کنید.', max_length=1000, null=True, verbose_name='توضیحات تغییر')),
                ('change_location_data_center', models.BooleanField(default=False, help_text='آیا تغییر در مرکز داده انجام می\u200cشود؟', verbose_name='محل تغییر: مرکز داده')),
                ('change_location_database', models.BooleanField(default=False, help_text='آیا تغییر در پایگاه داده انجام می\u200cشود؟', verbose_name='محل تغییر: پایگاه داده')),
                ('change_location_systems', models.BooleanField(default=False, help_text='آیا تغییر در سیستم\u200cها انجام می\u200cشود؟', verbose_name='محل تغییر: سیستم\u200cها')),
                ('change_location_other', models.BooleanField(default=False, help_text='آیا تغییر در محل دیگری انجام می\u200cشود؟', verbose_name='محل تغییر: سایر')),
                ('change_location_other_description', models.CharField(blank=True, help_text='توضیحات مربوط به محل تغییر را وارد کنید.', max_length=500, null=True, validators=[ConfigurationChangeRequest.validator.Validator.validate_change_location_other], verbose_name='توضیحات محل تغییر')),
                ('changing_date', models.CharField(help_text='تاریخ تغییرات به شمسی.', max_length=10, verbose_name='تاریخ تغییرات')),
                ('changing_time', models.CharField(help_text=' ساعت تغییرات به فرمت HH:MM.', max_length=5, verbose_name='ساعت تغییرات')),
                ('changing_date_actual', models.CharField(help_text='تاریخ واقعی تغییرات به شمسی.', max_length=10, verbose_name='تاریخ و ساعت واقعی تغییرات')),
                ('changing_time_actual', models.CharField(help_text=' ساعت واقعی تغییرات در قالب HH:MM.', max_length=5, verbose_name='تاریخ و ساعت واقعی تغییرات')),
                ('changing_duration', models.PositiveIntegerField(blank=True, help_text='مدت زمان تغییرات به دقیقه.', null=True, verbose_name='مدت زمان تغییرات')),
                ('changing_duration_actual', models.PositiveIntegerField(blank=True, help_text='مدت زمان واقعی تغییرات به دقیقه.', null=True, verbose_name='مدت زمان واقعی تغییرات')),
                ('downtime_duration', models.PositiveIntegerField(blank=True, help_text='مدت زمان توقف به دقیقه.', null=True, verbose_name='مدت زمان توقف')),
                ('downtime_duration_worstcase', models.PositiveIntegerField(blank=True, help_text='بدترین مدت زمان توقف به دقیقه.', null=True, verbose_name='بدترین مدت زمان توقف')),
                ('downtime_duration_actual', models.PositiveIntegerField(blank=True, help_text='مدت زمان توقف واقعی به دقیقه.', null=True, verbose_name='مدت زمان توقف واقعی')),
                ('stop_critical_service', models.BooleanField(default=False, help_text='آیا خدمات بحرانی متوقف می\u200cشود؟', verbose_name='توقف خدمات بحرانی')),
                ('critical_service_title', models.CharField(blank=True, help_text='عنوان خدمات بحرانی را وارد کنید.', max_length=200, null=True, verbose_name='عنوان خدمات بحرانی')),
                ('stop_sensitive_service', models.BooleanField(default=False, help_text='آیا خدمات حساس متوقف می\u200cشود؟', verbose_name='توقف خدمات حساس')),
                ('stop_service_title', models.CharField(blank=True, help_text='عنوان خدمات متوقف شده را وارد کنید.', max_length=200, null=True, verbose_name='عنوان خدمات متوقف شده')),
                ('not_stop_any_service', models.BooleanField(default=False, help_text='آیا هیچ خدماتی متوقف نمی\u200cشود؟', verbose_name='عدم توقف هیچ خدماتی')),
                ('has_role_back_plan', models.BooleanField(default=False, help_text='آیا برنامه بازگشت وجود دارد؟', verbose_name='برنامه بازگشت وجود دارد')),
                ('role_back_plan_description', models.CharField(blank=True, help_text='توضیحات مربوط به برنامه بازگشت را وارد کنید.', max_length=1000, null=True, verbose_name='توضیحات برنامه بازگشت')),
                ('reason_regulatory', models.BooleanField(default=False, help_text='آیا الزام قانونی وجود دارد؟', verbose_name='الزام قانونی')),
                ('reason_technical', models.BooleanField(default=False, help_text='آیا الزام فنی وجود دارد؟', verbose_name='الزام فنی')),
                ('reason_security', models.BooleanField(default=False, help_text='آیا الزام امنیتی وجود دارد؟', verbose_name='الزام امنیتی')),
                ('reason_business', models.BooleanField(default=False, help_text='آیا الزام کسب و کاری وجود دارد؟', verbose_name='الزام کسب و کاری')),
                ('reason_other', models.BooleanField(default=False, help_text='آیا الزامات دیگری وجود دارد؟', verbose_name='سایر الزامات')),
                ('reason_other_description', models.CharField(blank=True, help_text='توضیحات مربوط به الزامات دیگر را وارد کنید.', max_length=500, null=True, verbose_name='توضیحات الزامات دیگر')),
                ('requestor_role_id', models.PositiveIntegerField(default=-1, help_text='لطفاً سمت فرد درخواست\u200cدهنده را وارد کنید.', verbose_name='سمت درخواست\u200cدهنده')),
                ('manager_opinion', models.BooleanField(help_text='در صورت موافقت مدیر مقدار 1 و در غیر این صورت مقدار صفر دارد', null=True)),
                ('manager_opinion_date', models.CharField(help_text='تاریخ اظهار نظر مدیر به شمسی.', max_length=10, null=True, verbose_name='تاریخ اعلام نظر مدیر')),
                ('manager_opinion_time', models.CharField(help_text=' ساعت اظهار نظر مدیر در قالب HH:MM.', max_length=5, null=True, verbose_name='ساعت اعلام نظر مدیر')),
                ('manager_reject_description', models.CharField(blank=True, help_text='توضیحات مربوط به رد مدیر را وارد کنید.', max_length=500, null=True, verbose_name='توضیحات رد مدیر')),
                ('need_committee', models.BooleanField(default=False, help_text='آیا نیاز به کمیته وجود دارد؟', verbose_name='نیاز به کمیته')),
                ('committee_opinion_date', models.CharField(help_text='تاریخ اظهار نظر کمیته به شمسی.', max_length=10, null=True, verbose_name='تاریخ اعلام نظر کمیته')),
                ('committee_opinion_time', models.CharField(help_text='ساعت اظهار نظر کمیته در قالب HH:MM.', max_length=5, null=True, verbose_name='ساعت اعلام نظر کمیته')),
                ('committee_opinion', models.BooleanField(help_text='در صورتی که نظر کمیته مثبت است مقدار 1 و در غیر این صورت مقدار صفر خواهد داشت', null=True)),
                ('committee_reject_description', models.CharField(blank=True, help_text='توضیحات مربوط به رد کمیته را وارد کنید.', max_length=500, null=True, verbose_name='توضیحات رد کمیته')),
                ('executor_role_id', models.PositiveIntegerField(default=-1, help_text='لطفاً سمت فرد مجری را وارد کنید.', verbose_name='سمت مجری')),
                ('executor_report_date', models.CharField(help_text='تاریخ گزارش مجری به شمسی.', max_length=10, null=True, verbose_name='تاریخ گزارش مجری')),
                ('executor_report_time', models.CharField(help_text='ساعت گزارش مجری به شمسی در قالب HH:MM.', max_length=5, null=True, verbose_name='ساعت گزارش مجری')),
                ('executor_report', models.BooleanField(help_text='در صورتی که اجرا موفقیت آمیز باشد مقدار 1 و در غیر این صورت مقدار صفر خواهد داشت', null=True)),
                ('execution_description', models.CharField(blank=True, help_text='گزارش انجام را وارد کنید.', max_length=1000, null=True, verbose_name='گزارش انجام')),
                ('test_required', models.BooleanField(default=0, help_text='در صورتی که نیاز به تست داشته باشد مقدار یک و در غیر این صورت مقدار صفر خواهد داشت', verbose_name='نیازمند تست است؟')),
                ('tester_role_id', models.PositiveIntegerField(default=-1, help_text='لطفاً سمت فرد تستر را وارد کنید.', verbose_name='سمت تستر')),
                ('tester_report', models.BooleanField(help_text='در صورتی که تست موفقیت آمیز باشد مقدار 1 و در غیر این صورت مقدار صفر خواهد داشت', null=True)),
                ('tester_report_date', models.CharField(help_text='تاریخ گزارش تستر به شمسی.', max_length=10, null=True, verbose_name='تاریخ گزارش تستر')),
                ('tester_report_time', models.CharField(help_text='ساعت گزارش تستر به شمسی در قالب HH:MM.', max_length=5, null=True, verbose_name='ساعت گزارش تستر')),
                ('test_date', models.CharField(help_text='تاریخ انجام تست به شمسی.', max_length=10, null=True, verbose_name='تاریخ انجام تست')),
                ('test_time', models.CharField(help_text='ساعت انجام تست به شمسی در قالب HH:MM.', max_length=5, null=True, verbose_name='ساعت انجام تست')),
                ('test_report_description', models.CharField(blank=True, help_text='توضیحات تست را وارد کنید.', max_length=1000, null=True, verbose_name='توضیحات تست')),
                ('change_domain', models.ForeignKey(help_text='دامنه تغییرات می تواند درون سازمانی، برون سازمانی و یا بین سازمانی باشد.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='request_change_domain', to='ConfigurationChangeRequest.constvalue', verbose_name='دامنه تغییر')),
                ('change_level', models.ForeignKey(help_text='تغییرات می تواند جزئی، بخشی و یا کلان باشد.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='request_change_level', to='ConfigurationChangeRequest.constvalue', verbose_name='گستردگی تغییرات')),
                ('change_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='ConfigurationChangeRequest.changetype', verbose_name='کد نوع تغییر')),
                ('classification', models.ForeignKey(help_text='طبقه\u200cبندی می تواند عادی یا محرمانه باشد.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='request_classification', to='ConfigurationChangeRequest.constvalue', verbose_name='طبقه\u200cبندی')),
                ('committee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='ConfigurationChangeRequest.committee', verbose_name='کمیته')),
                ('committee_user_nationalcode', models.ForeignKey(blank=True, db_column='committee_user_nationalcode', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='committee', to='ConfigurationChangeRequest.user', verbose_name='کد ملی کاربر کمیته')),
                ('executor_nationalcode', models.ForeignKey(db_column='executor_nationalcode', on_delete=django.db.models.deletion.CASCADE, related_name='executor', to='ConfigurationChangeRequest.user', verbose_name='کد ملی مجری')),
                ('executor_team_code', models.ForeignKey(blank=True, db_column='executor_team_code', help_text='تیم مربوط به مجری را انتخاب کنید.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='executor_team_code', to='ConfigurationChangeRequest.team', verbose_name='تیم مجری')),
                ('manager_nationalcode', models.ForeignKey(db_column='manager_nationalcode', on_delete=django.db.models.deletion.CASCADE, related_name='manager', to='ConfigurationChangeRequest.user', verbose_name='کد ملی مدیر')),
                ('priority', models.ForeignKey(help_text='اولویت می تواند استاندارد، فوری و اضطراری باشد.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='request_priority', to='ConfigurationChangeRequest.constvalue', verbose_name='اولویت')),
                ('requestor_nationalcode', models.ForeignKey(db_column='requestor_nationalcode', on_delete=django.db.models.deletion.CASCADE, related_name='requestor', to='ConfigurationChangeRequest.user', verbose_name='درخواست کننده')),
                ('requestor_team_code', models.ForeignKey(blank=True, db_column='requestor_team_code', help_text='تیم مربوط به درخواست\u200cدهنده را انتخاب کنید.', null=True, on_delete=django.db.models.deletion.SET_NULL, to='ConfigurationChangeRequest.team', verbose_name='تیم درخواست\u200cدهنده')),
                ('risk_level', models.ForeignKey(help_text='سطح ریسک می تواند بالا، متوسط و پایین باشد.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='request_risk_level', to='ConfigurationChangeRequest.constvalue', verbose_name='سطح ریسک')),
                ('tester_nationalcode', models.ForeignKey(db_column='tester_nationalcode', on_delete=django.db.models.deletion.CASCADE, related_name='tester', to='ConfigurationChangeRequest.user', verbose_name='کد ملی تستر')),
                ('tester_team_code', models.ForeignKey(blank=True, db_column='tester_team_code', help_text='تیم مربوط به تستر را انتخاب کنید.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tester_team_code', to='ConfigurationChangeRequest.team', verbose_name='تیم تستر')),
            ],
            options={
                'verbose_name': 'درخواست تغییر',
                'verbose_name_plural': 'درخواست\u200cهای تغییر',
                'managed': True,
            },
        ),
        migrations.AddField(
            model_name='requestcorp',
            name='request',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='ConfigurationChangeRequest.configurationchangerequest', verbose_name='درخواست'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='requestextrainformation',
            name='request',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='ConfigurationChangeRequest.configurationchangerequest', verbose_name='شناسه درخواست'),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='requestteam',
            name='request',
            field=models.ForeignKey(default=1, on_delete=django.db.models.deletion.CASCADE, to='ConfigurationChangeRequest.configurationchangerequest', verbose_name='درخواست'),
            preserve_default=False,
        ),
    ]
